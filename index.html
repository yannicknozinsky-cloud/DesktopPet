<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8">
  <title>Meine Daten</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- Supabase JS SDK -->
  <script src="https://unpkg.com/@supabase/supabase-js@2"></script>

  <style>
    body {
      font-family: system-ui, sans-serif;
      margin: 20px;
      background: #f7f7f7;
    }
    h2 {
      margin-top: 30px;
    }
    ul {
      padding: 0;
      list-style: none;
    }
    li {
      background: white;
      padding: 12px;
      margin-bottom: 8px;
      border-radius: 8px;
    }
    a {
      text-decoration: none;
      color: #2a9d8f;
      font-weight: bold;
    }
  </style>
</head>

<body>

<h1>ğŸ“± Meine Supabase Daten</h1>

<h2>ğŸŒ Websites</h2>
<ul id="websites"></ul>

<h2>ğŸ“… Termine</h2>
<ul id="termine"></ul>

<script>
  // ğŸ” HIER DEINE DATEN EINTRAGEN
  const supabase = supabase.createClient(
    "https://qkmtybzdthrpjfkbgskw.supabase.co",
    "HIER_DEIN_ANON_PUBLIC_KEY"
  );

  async function loadWebsites() {
    const { data, error } = await supabase
      .from("websites")
      .select("name, url")
      .order("name");

    if (error) {
      alert(error.message);
      return;
    }

    const ul = document.getElementById("websites");
    data.forEach(w => {
      const li = document.createElement("li");
      li.innerHTML = `<a href="${w.url}" target="_blank">${w.name}</a>`;
      ul.appendChild(li);
    });
  }

  async function loadTermine() {
    const { data, error } = await supabase
      .from("termine")
      .select("name, datum, uhrzeitstart, ort")
      .order("datum");

    if (error) {
      alert(error.message);
      return;
    }

    const ul = document.getElementById("termine");
    data.forEach(t => {
      const li = document.createElement("li");
      li.innerHTML = `
        <strong>${t.name}</strong><br>
        ğŸ“… ${t.datum} â° ${t.uhrzeitstart || ""}<br>
        ğŸ“ ${t.ort || ""}
      `;
      ul.appendChild(li);
    });
  }

  loadWebsites();
  loadTermine();
</script>

</body>
</html>
